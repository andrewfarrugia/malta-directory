---
import BaseLayout from "@/layouts/BaseLayout.astro";
import ListingCard from "@/components/ListingCard.astro";
import Breadcrumbs from "@/components/Breadcrumbs.astro";
import { getListings } from "@/lib/data";
import { buildSeo, clampMeta } from "@/lib/seo";

const listings = getListings();
const seo = buildSeo({
  path: "/listings/",
  title: "Service Listings in Malta",
  description: clampMeta("Independent sample listing profiles compiled from publicly available information."),
  noindex: true
});

const breadcrumbs = [
  { name: "Home", url: "/" },
  { name: "Listings", url: "/listings/" }
];
---
<BaseLayout seo={seo} breadcrumbs={breadcrumbs}>
  <main class="section">
    <div class="container">
      <Breadcrumbs items={breadcrumbs} />
      <h1>Listings</h1>
      <p class="lead">
        These entries are sample directory records for demonstration. Details may change and should be confirmed directly with providers.
      </p>
      <div class="grid grid--cards mt-md">
        {listings.map((listing) => (
          <ListingCard listing={listing} />
        ))}
      </div>
    </div>
  </main>
</BaseLayout>
