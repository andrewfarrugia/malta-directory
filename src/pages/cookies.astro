---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Breadcrumbs from "@/components/Breadcrumbs.astro";
import ContextRail from "@/components/ContextRail.astro";
import PageMastheadMedia from "@/components/PageMastheadMedia.astro";
import { buildSeo } from "@/lib/seo";
import { getPexelsImage } from "@/lib/pexelsImagePipeline";

const breadcrumbs = [
  { name: "Home", url: "/" },
  { name: "Cookie Policy", url: "/cookies/" }
];

const seo = buildSeo({
  path: "/cookies/",
  title: "Cookie Policy",
  description: "Draft cookie policy describing necessary, analytics, and marketing categories for Malta Service Hub."
});
---
<BaseLayout seo={seo} breadcrumbs={breadcrumbs}>
  <main class="template-main">
    <PageMastheadMedia
      kicker="Legal"
      title="Cookie Policy (Draft)"
      description="How cookie categories and consent preferences operate on Malta Service Hub."
      image={getPexelsImage("page-cookies-hero", "Cookie policy")}
    />
    <section class="section">
      <div class="container prose">
        <Breadcrumbs items={breadcrumbs} />
        <p class="notice">Legal review is required before production launch.</p>
        <h2>Cookie categories</h2>
        <ul>
          <li>Necessary: required for consent and core site operation.</li>
          <li>Analytics: optional, used for aggregate traffic measurement.</li>
          <li>Marketing: optional, used for campaign attribution where enabled.</li>
        </ul>
        <h2>Consent controls</h2>
        <p>Users can accept, reject, or set granular preferences and can reopen settings from the footer.</p>
      </div>
    </section>
    <ContextRail
      title="Legal pathways"
      items={[
        { title: "Privacy policy", href: "/privacy/", meta: "Data processing", image: getPexelsImage("page-privacy-hero", "Privacy policy") },
        { title: "Terms", href: "/terms/", meta: "Site usage", image: getPexelsImage("page-terms-hero", "Terms page") },
        { title: "Disclaimer", href: "/disclaimer/", meta: "Scope guidance", image: getPexelsImage("page-disclaimer-hero", "Disclaimer") },
        { title: "Contact", href: "/contact/", meta: "Support", image: getPexelsImage("page-contact-hero", "Contact page") }
      ]}
    />
  </main>
</BaseLayout>
